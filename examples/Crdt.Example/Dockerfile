ARG MAIN_DLL
ARG ARTIFACT_PATH
ARG NETCORE_VERSION=2.2
FROM mcr.microsoft.com/dotnet/core/runtime:$NETCORE_VERSION as runtime

ARG MAIN_DLL
ARG ARTIFACT_PATH

ENV MAIN_DLL=${MAIN_DLL}

RUN env

COPY ${ARTIFACT_PATH}/ /app

EXPOSE 8080

ENTRYPOINT dotnet /app/$MAIN_DLL